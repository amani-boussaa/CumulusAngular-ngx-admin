<div *ngIf="successMessage">
  <div class="alert-card">
        <nb-alert status="success">{{ successMessage }}</nb-alert>
  </div>
</div>
<div *ngIf="errorMessage">
  <div class="alert-card">
        <nb-alert status="danger">{{ errorMessage }}</nb-alert>
  </div>
</div>
<div class="container py-5">
  <!-- For demo purpose -->
  <div class="row mb-4">
      <div class="col-lg-8 mx-auto text-center">
          <h1 class="display-6">Add a Payment Method</h1>
      </div>
  </div> <!-- End -->
  <div class="row">
      <div class="col-lg-6 mx-auto">
        <nb-card size="medium">
          <nb-tabset>
            <nb-tab tabTitle="Credit Card">
                
                  <!-- Credit card form content -->
                  <div class="tab-content">
                      <!-- credit card info-->
                      <div id="credit-card" class="tab-pane fade show active pt-3">
                        <form [formGroup]="paymentForm" (ngSubmit)="addPaymentMethod()">
                              <div class="form-group"> <label for="username">
                                      <h6>Card Owner</h6>
                                  </label> <input type="text" name="username" placeholder="Card Owner Name" required class="form-control "> </div>
                              <div class="form-group"> <label for="cardNumber">
                                      <h6>Card number</h6>
                                  </label>
                                  <div class="input-group"> <input type="number" formControlName="card_number"
                                     placeholder="0000 0000 0000 0000" class="form-control"
                                     [ngClass]="{ 'is-invalid': submitted && f['card_number'].errors }" required>
                                      <div class="input-group-append"> <span class="input-group-text text-muted"> <i class="fab fa-cc-visa mx-1"></i> <i class="fab fa-cc-mastercard mx-1"></i> <i class="fab fa-cc-amex mx-1"></i> </span> </div>
                                  </div>
                                  <div *ngIf="submitted && f['card_number'].errors" class="invalid-input">
                                    <div *ngIf="f['card_number'].errors['required']">
                                      Card Number is required
                                    </div>
                                    <div *ngIf="f['card_number'].errors['length']">
                                      Invalid Length
                                    </div>
                                  </div>
                              </div>
                              <div class="row">
                                  <div class="col-sm-8">
                                      <div class="form-group"> <label><span class="hidden-xs">
                                                  <h6>Expiration Date</h6>
                                              </span></label>
                                          <div class="input-group">
                                             <input type="number" placeholder="MM" formControlName="exp_month" class="form-control" 
                                             [ngClass]="{ 'is-invalid': submitted && f['exp_month'].errors }" required> 
                                            <input type="number" placeholder="YYYY" formControlName="exp_year" class="form-control"
                                            [ngClass]="{ 'is-invalid': submitted && f['exp_year'].errors }" required> 
                                          </div>
                                          <div *ngIf="submitted && f['exp_month'].errors || f['exp_year'].errors " class="invalid-input">
                                            <!-- <div *ngIf="f['exp_month'].errors['required'] || f['exp_year'].errors['required']">
                                              Expiration Date is required
                                            </div>
                                            <div *ngIf="f['exp_month'].errors['length'] || f['exp_year'].errors['length']">
                                              Invalid Length
                                            </div> -->
                                          </div>
                                      </div>
                                  </div>
                                  <div class="col-sm-4">
                                      <div class="form-group mb-4"> <label data-toggle="tooltip" title="Three digit CV code on the back of your card">
                                              <h6>CVV <i class="fa fa-question-circle d-inline"></i></h6>
                                          </label> <input type="number" formControlName="cvc" 
                                          [ngClass]="{ 'is-invalid': submitted && f['cvc'].errors }" required class="form-control">
                                         </div>
                                         <div *ngIf="submitted && f['cvc'].errors" class="invalid-input"></div>
                                  </div>
                              </div>
                              <br>
                              <div> <button type="submit" class="subscribe btn btn-primary btn-block shadow-sm">Confirm Payment</button>
                          
                      </div>
                    </form>
                  </div> <!-- End -->
                  <!-- Paypal info -->
                  
                  <!-- End -->
              
              
          
      </div>
    </nb-tab>
      <nb-tab tabTitle="Paypal">
        <br>
        <div id="paypal">
          <h6 class="pb-2">Select your paypal account type</h6>
          <div class="form-group "> <label class="radio-inline"> <input type="radio" name="optradio" checked> Domestic </label> <label class="radio-inline"> <input type="radio" name="optradio" class="ml-5">International </label></div>
          <p> <button type="button" class="btn btn-primary "><i class="fab fa-paypal mr-2"></i> Log into my Paypal</button> </p>
          <p class="text-muted"> Note: After clicking on the button, you will be directed to a secure gateway for payment. After completing the payment process, you will be redirected back to the website to view details of your order. </p>
      </div>
      </nb-tab>
      <nb-tab tabTitle="Bank">
        <div id="net-banking">
          <div class="form-group "> <label for="Select Your Bank">
                  <h6>Select your Bank</h6>
              </label> <select class="form-control" id="ccmonth">
                  <option value="" selected disabled>--Please select your Bank--</option>
                  <option>Bank 1</option>
                  <option>Bank 2</option>
                  <option>Bank 3</option>
              </select> </div>
          <div class="form-group">
              <p> <button type="button" class="btn btn-primary "><i class="fas fa-mobile-alt mr-2"></i> Proceed Payment</button> </p>
          </div>
          <p class="text-muted">Note: After clicking on the button, you will be directed to a secure gateway for payment. After completing the payment process, you will be redirected back to the website to view details of your order. </p>
      </div>
      </nb-tab>
  </nb-tabset>
</nb-card>
  </div>

